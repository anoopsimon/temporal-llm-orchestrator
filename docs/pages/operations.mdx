---
title: Operations
description: Day to day commands, observability, and common failure recovery
---

# Operations

See also:

- [Configuration](/configuration)
- [Reviewer Playbook](/reviewer-playbook)

## Common commands

```bash
make start
make status
make logs
make run-workflow
make stop
```

## Operational states

Document statuses in `internal/domain/state.go`:

- `RECEIVED`
- `STORED`
- `CLASSIFIED`
- `EXTRACTED`
- `NEEDS_REVIEW`
- `COMPLETED`
- `REJECTED`
- `FAILED`

## Review operations

List pending:

```bash
curl -s http://localhost:8080/v1/reviews/pending
```

Approve:

```bash
curl -s -X POST http://localhost:8080/v1/documents/<documentId>/review \
  -H "Content-Type: application/json" \
  -d '{"decision":"approve","reviewer":"ops"}'
```

Reject:

```bash
curl -s -X POST http://localhost:8080/v1/documents/<documentId>/review \
  -H "Content-Type: application/json" \
  -d '{"decision":"reject","reviewer":"ops","reason":"unsupported format"}'
```

## Useful UIs

- Temporal UI: `http://localhost:8233`
- MinIO Console: `http://localhost:9001`

## Common failures and fixes

<details>
<summary><strong>OpenAI key errors</strong></summary>

Check `.env` key format (`sk-...` or `sk-proj-...`) and restart services:

```bash
make restart
```

</details>

<details>
<summary><strong>Upload connection reset on first run</strong></summary>

API can still be compiling dependencies in container. Wait for readiness and retry.

</details>

<details>
<summary><strong>Document stuck in NEEDS_REVIEW</strong></summary>

That is expected until a review signal is sent. Use review endpoint or UI tooling.

</details>
