---
title: API Reference
description: HTTP endpoints and payload examples
---

# API Reference

Base URL: `http://localhost:8080`

## Health

### `GET /healthz`

Returns service liveness.

### `GET /readyz`

Returns readiness based on Postgres connectivity.

## Documents

### `POST /v1/documents`

Upload with multipart form field `file`.

```bash
curl -s -X POST http://localhost:8080/v1/documents \
  -F "file=@testdata/payslip.txt"
```

Response:

```json
{
  "document_id": "uuid",
  "workflow_id": "doc-intake-uuid",
  "status": "RECEIVED"
}
```

### `GET /v1/documents/{documentId}/status`

```json
{
  "document_id": "uuid",
  "status": "NEEDS_REVIEW",
  "doc_type": "payslip"
}
```

### `GET /v1/documents/{documentId}/result`

```json
{
  "document_id": "uuid",
  "status": "COMPLETED",
  "doc_type": "invoice",
  "confidence": 0.9,
  "result": {
    "supplier_name": "ACME",
    "invoice_number": "INV-1001",
    "invoice_date": "2025-01-20",
    "total_amount": 1200,
    "confidence": 0.9
  }
}
```

## Review

### `GET /v1/reviews/pending`

Lists queue entries waiting for human decision.

### `POST /v1/documents/{documentId}/review`

Request body:

```json
{
  "decision": "approve",
  "corrections": {},
  "reviewer": "analyst@company.com",
  "reason": "optional"
}
```

Allowed decisions:

- `approve`
- `reject`
- `correct`

